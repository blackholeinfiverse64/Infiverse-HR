# Verify Your Backend API Configuration

## ‚ö†Ô∏è Important: Check Your API Configuration

The system uses JWT-based authentication with backend API services.

### Authentication Components:

1. **Backend API Key:**
   - Used for service-to-service communication
   - Stored in backend environment variables
   - Format: `prod_api_key_*` or custom format

2. **JWT Secrets:**
   - For client authentication: `JWT_SECRET_KEY`
   - For candidate authentication: `CANDIDATE_JWT_SECRET_KEY`
   - Used to sign/verify authentication tokens

## üîç How to Configure API Access:

1. **Update Your .env File:**
   ```env
   VITE_API_BASE_URL=http://localhost:8000
   ```

2. **Configure Backend Environment Variables:**
   ```bash
   # Required for backend services
   API_KEY_SECRET=your_api_key_here
   JWT_SECRET_KEY=your_jwt_secret_here
   CANDIDATE_JWT_SECRET_KEY=your_candidate_jwt_secret_here
   ```

3. **Restart Dev Server:**
   ```bash
   # Stop server (Ctrl+C)
   cd frontend
   npm run dev
   ```

## üß™ Test the Connection:

1. **Check Backend Health:**
   - Verify the gateway service is running:
   ```bash
   curl http://localhost:8000/health
   ```

2. **Or Test in Browser Console:**
   ```javascript
   // Check if API URL is loaded
   console.log('API Base URL:', import.meta.env.VITE_API_BASE_URL);
   
   // Test basic connection
   fetch(import.meta.env.VITE_API_BASE_URL + '/health')
   .then(r => console.log('‚úÖ Status:', r.status))
   .catch(e => console.error('‚ùå Error:', e));
   ```

## üìã Key Verification Checklist:

- [ ] Backend services are running (ports 8000, 9000, 9001)
- [ ] `VITE_API_BASE_URL` is set correctly in `.env` file
- [ ] Backend environment variables are configured
- [ ] No extra spaces or quotes in `.env` file
- [ ] Dev server restarted after updating `.env`

## üîê Authentication Flow:

| Component | Purpose | Configuration |
|----------|---------|---------------|
| **API Key** | Service-to-service communication | `API_KEY_SECRET` in backend |
| **JWT Tokens** | User authentication | Generated by backend on login |
| **Frontend** | Makes authenticated requests | Automatically attaches tokens |

## üÜò If Still Not Working:

1. **Check backend services:**
   - Ensure gateway (8000), agent (9000), and langgraph (9001) services are running
   - Check service logs for errors

2. **Verify API key configuration:**
   - Confirm `API_KEY_SECRET` is set in backend environment
   - Check that frontend can reach backend services

3. **Check browser console:**
   - Open DevTools (F12)
   - Look for authentication-related error messages
   - Verify API requests include proper authorization headers

4. **Test with curl:**
   ```bash
   curl -H "Authorization: Bearer your_api_key_here" http://localhost:8000/health
   ```